<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:b="clr-namespace:Prism.Behaviors;assembly=Prism.Forms"
             mc:Ignorable="d"
             x:Class="Karl.View.AudioLibPage">
    <ContentPage.Content>
		<StackLayout>
			<Button Text="Add Song"
					Command="{Binding AddSongCommand}"/>
			<SearchBar>
				<SearchBar.Behaviors>
					<b:EventToCommandBehavior EventName="SearchButtonPressed"
					Command="{Binding SearchSongCommand}"
					CommandParameter="SearchBar.Text" />
				</SearchBar.Behaviors>
			</SearchBar>
			<ListView ItemsSource="{Binding Songs}">
				<ListView.ItemTemplate>
					<DataTemplate>
						<TextCell Text="{Binding Title} {Binding Artist} {Binding BPM}" />
					</DataTemplate>
				</ListView.ItemTemplate>
				<ListView.Behaviors>
					<b:EventToCommandBehavior EventName="ItemSelected"
					Command="{Binding PlaySongCommand}"
					CommandParameter="{Binding SelectedItem}" />
				</ListView.Behaviors>
			</ListView>
			<Button Text="Sort after Title"
					Command="{Binding TitleSortCommand}"/>
			<Button Text="Sort after Artist"
					Command="{Binding ArtistSortCommand}"/>
			<Button Text="Sort after BPM-Value"
					Command="{Binding BPMSortCommand}"/>
		</StackLayout>
    </ContentPage.Content>
</ContentPage>
